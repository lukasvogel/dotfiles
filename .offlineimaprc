# Sample minimal config file.  Copy this to ~/.offlineimaprc and edit to
# suit to get started fast.

# passwords for offlineimap and msmtprc stored in OSX keychain
# http://stevelosh.com/blog/2012/10/the-homely-mutt/#getting-email

[general]
# List of accounts to be synced, separated by a comma.
#accounts = riseup,geomail
accounts = riseup,geomail,ucsd,gmail
# Suppress nothing but errors
#ui = quiet
ui = ttyui
pythonfile=~/.mutt/offlineimap.py
# Controls how many accounts may be synced simultaneously
maxsyncaccounts = 4

[mbnames]
# Generate a muttrc fragment containing the mailboxes offlineimap syncs
enabled = yes
filename = ~/.mutt/mailboxes
header = "mailboxes "
peritem = "+%(accountname)s/%(foldername)s"
sep = " "
footer = "\n"

[Account riseup]
# Identifier for the local repository; e.g. the maildir to be synced via IMAP.
localrepository = riseup-local
# Identifier for the remote repository; i.e. the actual IMAP, usually non-local.
remoterepository = riseup-remote
# Status cache. Default is plain, which eventually becomes huge and slow.
status_backend = sqlite
presynchook = imapfilter -c ~/.imapfilter/riseup.lua
postsynchook = notmuch new

# Minutes between syncs
#autorefresh = 5
# Number of quick-syncs between autorefreshes. Quick-syncs do not update if the
# only changes were to IMAP flags
#quick = 10

[Repository riseup-local]
# Currently, offlineimap only supports maildir and IMAP for local repositories.
type = Maildir
# Where should the mail be placed?
localfolders = ~/Mail/riseup

[Repository riseup-remote]
# Remote repos can be IMAP or Gmail, the latter being a preconfigured IMAP.
type = IMAP
remotehost = mail.riseup.net
remoteuser = andersd
remotepasseval = get_keychain_pass(account="andersd", server="mail.riseup.net")
ssl = yes
cert_fingerprint = bf27ee9ea504355fc9e933e7b624082329ea1003
#folderfilter = lambda folder: folder not in ['Drafts']

# Instead of closing the connection once a sync is complete, offlineimap will
# send empty data to the server to hold the connection open. A value of 60
# attempts to hold the connection for a minute between syncs (both quick and
# autorefresh).This setting has no effect if autorefresh and holdconnectionopen
# are not both set.
#keepalive = 60
# OfflineIMAP normally closes IMAP server connections between refreshes if
# the global option autorefresh is specified.  If you wish it to keep the
# connection open, set this to true. This setting has no effect if autorefresh
# is not set.
#holdconnectionopen = yes


[Account geomail]
# Identifier for the local repository; e.g. the maildir to be synced via IMAP.
localrepository = geomail-local
# Identifier for the remote repository; i.e. the actual IMAP, usually non-local.
remoterepository = geomail-remote
# Status cache. Default is plain, which eventually becomes huge and slow.
status_backend = sqlite
postsynchook = notmuch new

# Minutes between syncs
#autorefresh = 5
# Number of quick-syncs between autorefreshes. Quick-syncs do not update if the
# only changes were to IMAP flags
#quick = 10

[Repository geomail-local]
# Currently, offlineimap only supports maildir and IMAP for local repositories.
type = Maildir
# Where should the mail be placed?
localfolders = ~/Mail/geomail

[Repository geomail-remote]
# Remote repos can be IMAP or Gmail, the latter being a preconfigured IMAP.
type = IMAP
remotehost = imap.au.dk
remoteuser = au217756
remotepasseval = get_keychain_pass(account="au217756", server="imap.au.dk")
ssl = yes
cert_fingerprint = ae2c89d80632be3ec8a149225199e3cdcc88311f
folderfilter = lambda folder: folder not in ['Kalender','Kontaktpersoner','Slettet post','NFIT-Import-adc-2012-09-11-04:18']

# Instead of closing the connection once a sync is complete, offlineimap will
# send empty data to the server to hold the connection open. A value of 60
# attempts to hold the connection for a minute between syncs (both quick and
# autorefresh).This setting has no effect if autorefresh and holdconnectionopen
# are not both set.
#keepalive = 60
# OfflineIMAP normally closes IMAP server connections between refreshes if
# the global option autorefresh is specified.  If you wish it to keep the
# connection open, set this to true. This setting has no effect if autorefresh
# is not set.
#holdconnectionopen = yes


[Account ucsd]
# Identifier for the local repository; e.g. the maildir to be synced via IMAP.
localrepository = ucsd-local
# Identifier for the remote repository; i.e. the actual IMAP, usually non-local.
remoterepository = ucsd-remote
# Status cache. Default is plain, which eventually becomes huge and slow.
status_backend = sqlite
postsynchook = notmuch new

# Minutes between syncs
#autorefresh = 5
# Number of quick-syncs between autorefreshes. Quick-syncs do not update if the
# only changes were to IMAP flags
#quick = 10

[Repository ucsd-local]
# Currently, offlineimap only supports maildir and IMAP for local repositories.
type = Maildir
# Where should the mail be placed?
localfolders = ~/Mail/ucsd

[Repository ucsd-remote]
# Remote repos can be IMAP or Gmail, the latter being a preconfigured IMAP.
type = IMAP
remotehost = mail.ucsd.edu
remoteuser = adamsgaard
remotepasseval = get_keychain_pass(account="adamsgaard", server="mail.ucsd.edu")
ssl = yes
cert_fingerprint = ec083b38e0a1942725d301d120893c1014701062
#folderfilter = lambda folder: folder not in ['Kalender','Kontaktpersoner','Slettet post','NFIT-Import-adc-2012-09-11-04:18']

# Instead of closing the connection once a sync is complete, offlineimap will
# send empty data to the server to hold the connection open. A value of 60
# attempts to hold the connection for a minute between syncs (both quick and
# autorefresh).This setting has no effect if autorefresh and holdconnectionopen
# are not both set.
#keepalive = 60
# OfflineIMAP normally closes IMAP server connections between refreshes if
# the global option autorefresh is specified.  If you wish it to keep the
# connection open, set this to true. This setting has no effect if autorefresh
# is not set.
#holdconnectionopen = yes



[Account gmail]
# Identifier for the local repository; e.g. the maildir to be synced via IMAP.
localrepository = gmail-local
# Identifier for the remote repository; i.e. the actual IMAP, usually non-local.
remoterepository = gmail-remote
# Status cache. Default is plain, which eventually becomes huge and slow.
status_backend = sqlite
postsynchook = notmuch new

# Minutes between syncs
#autorefresh = 5
# Number of quick-syncs between autorefreshes. Quick-syncs do not update if the
# only changes were to IMAP flags
#quick = 10

[Repository gmail-local]
# Currently, offlineimap only supports maildir and IMAP for local repositories.
type = Maildir
# Where should the mail be placed?
localfolders = ~/Mail/gmail
nametrans = lambda folder: {'drafts':  '[Gmail]/Drafts',
    'sent':    '[Gmail]/Sent Mail',
    'flagged': '[Gmail]/Starred',
    'trash':   '[Gmail]/Trash',
    'archive': '[Gmail]/All Mail',
    }.get(folder, folder)

[Repository gmail-remote]
# Remote repos can be IMAP or Gmail, the latter being a preconfigured IMAP.
type = Gmail
remoteuser = andersdc@gmail.com
remotepasseval = get_keychain_pass(account="andersdc@gmail.com", server="imap.gmail.com")
auth_mechanisms = LOGIN
realdelete = no
nametrans = lambda folder: {'drafts':  '[Gmail]/Drafts',
    'sent':    '[Gmail]/Sent Mail',
    'flagged': '[Gmail]/Starred',
    'trash':   '[Gmail]/Trash',
    'archive': '[Gmail]/All Mail',
    }.get(folder, folder)
cert_fingerprint = 71dfbe124d89ed9218f539a82d4127fbb4bc9997

#folderfilter = lambda folder: folder not in ['Kalender','Kontaktpersoner','Slettet post','NFIT-Import-adc-2012-09-11-04:18']

# Instead of closing the connection once a sync is complete, offlineimap will
# send empty data to the server to hold the connection open. A value of 60
# attempts to hold the connection for a minute between syncs (both quick and
# autorefresh).This setting has no effect if autorefresh and holdconnectionopen
# are not both set.
#keepalive = 60
# OfflineIMAP normally closes IMAP server connections between refreshes if
# the global option autorefresh is specified.  If you wish it to keep the
# connection open, set this to true. This setting has no effect if autorefresh
# is not set.
#holdconnectionopen = yes



[Account icloud]
# Identifier for the local repository; e.g. the maildir to be synced via IMAP.
localrepository = icloud-local
# Identifier for the remote repository; i.e. the actual IMAP, usually non-local.
remoterepository = icloud-remote
# Status cache. Default is plain, which eventually becomes huge and slow.
status_backend = sqlite
postsynchook = notmuch new

# Minutes between syncs
#autorefresh = 5
# Number of quick-syncs between autorefreshes. Quick-syncs do not update if the
# only changes were to IMAP flags
#quick = 10

[Repository icloud-local]
# Currently, offlineimap only supports maildir and IMAP for local repositories.
type = Maildir
# Where should the mail be placed?
localfolders = ~/Mail/icloud

[Repository icloud-remote]
# Remote repos can be IMAP or Gmail, the latter being a preconfigured IMAP.
type = IMAP
remotehost = imap.mail.me.com
remoteuser = a.damsgaard
remotepasseval = get_keychain_pass(account="a.damsgaard", server="imap.mail.me.com")
auth_mechanisms = PLAIN
ssl = yes
cert_fingerprint = 653087783af6e38b439b275bacba12777bdee9d1
#folderfilter = lambda folder: folder not in ['Drafts']
